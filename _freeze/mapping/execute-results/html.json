{
  "hash": "0aad256b30e0d4a2f64ff8b2ac387384",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Mapping Sampling Locations\"\neditor: visual\noutput:\n  html_document:\n    toc: true\n    toc_float: true\n    number_sections: false\n---\n\n\n\n## 9. Mapping Sampling Locations\n\n::: callout-note\n### Exercises for Section 9. Mapping Sampling Locations\n\n-   Plot where all the samples are collected from?\n-   Can you change the shape of SEA samples vs AFR samples?\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ensure country is a proper factor with no empty strings\nmeta$country[meta$country == \"\" | is.na(meta$country)] <- \"Unknown\"\n\n# Remove any samples missing coordinates\nmeta <- meta %>% filter(!is.na(latitude), !is.na(longitude))\n\nmeta_sf <- st_as_sf(meta,\n                    coords = c(\"longitude\", \"latitude\"),\n                    crs = 4326,\n                    remove = FALSE)   # keep original columns\n\n\n# Load world map\nworld <- ne_countries(scale = \"medium\", returnclass = \"sf\")\nsaveRDS(world, file = \"derived/world.rds\")\n\nmap <- ggplot() +\n  geom_sf(data = world, fill = \"grey90\", color = \"grey60\", linewidth = 0.2) +\n  geom_sf(data = meta_sf,\n          aes(color = country),\n          size = 2, alpha = 0.8) +\n  coord_sf(xlim = c(-20, 120), ylim = c(-25, 25), expand = FALSE) +\n  scale_color_viridis_d() +\n  theme_minimal() +\n  labs(title = \"Sampling Locations of P. falciparum Isolates\",\n       x = \"Longitude\", y = \"Latitude\")\n```\n:::\n\n\n::: {.callout-note collapse=\"true\"}\n## Click to see plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](mapping_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n:::\n",
    "supporting": [
      "mapping_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}